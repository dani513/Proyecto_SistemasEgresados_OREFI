{"ast":null,"code":"export default {\n  name: 'SelectSearchType',\n  data() {\n    return {\n      searchType: '',\n      codigo_carrera: '',\n      cedula: '',\n      nombre: '',\n      codigo_periodo: '',\n      egresados: [],\n      selectedEgresado: null\n    };\n  },\n  methods: {\n    setSearchType(type) {\n      this.searchType = type;\n      this.codigo_carrera = '';\n      this.cedula = '';\n      this.nombre = '';\n      this.codigo_periodo = '';\n      this.egresados = [];\n      this.selectedEgresado = null;\n    },\n    async consultGraduate() {\n      let queryParams = '';\n      if (this.searchType === 'codigo_carrera') {\n        queryParams = `codigo_carrera=${this.codigo_carrera}`;\n      } else if (this.searchType === 'cedula') {\n        queryParams = `cedula=${this.cedula}`;\n      } else if (this.searchType === 'nombre') {\n        queryParams = `nombre=${this.nombre}`;\n      } else if (this.searchType === 'codigo_periodo') {\n        queryParams = `codigo_periodo=${this.codigo_periodo}`;\n      }\n      const response = await fetch(`/api/consultar?${queryParams}`);\n      if (response.ok) {\n        this.egresados = await response.json();\n      } else {\n        alert('Error al consultar egresados');\n      }\n    },\n    selectEgresado(egresado) {\n      this.selectedEgresado = egresado;\n    },\n    async deleteEgresado(id) {\n      const response = await fetch(`/api/eliminar/${id}`, {\n        method: 'POST'\n      });\n      if (response.ok) {\n        alert('Egresado eliminado con éxito');\n        this.selectedEgresado = null;\n        this.consultGraduate();\n      } else {\n        alert('Error al eliminar egresado');\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","searchType","codigo_carrera","cedula","nombre","codigo_periodo","egresados","selectedEgresado","methods","setSearchType","type","consultGraduate","queryParams","response","fetch","ok","json","alert","selectEgresado","egresado","deleteEgresado","id","method"],"sources":["src/components/SelectSearchType.vue"],"sourcesContent":["<template>\n  <div class=\"select-search-type\">\n    <h1>Consultar Egresado</h1>\n    <div class=\"buttons\">\n      <button @click=\"setSearchType('codigo_carrera')\" :class=\"{ active: searchType === 'codigo_carrera' }\">Código de Carrera</button>\n      <button @click=\"setSearchType('cedula')\" :class=\"{ active: searchType === 'cedula' }\">Cédula</button>\n      <button @click=\"setSearchType('nombre')\" :class=\"{ active: searchType === 'nombre' }\">Nombre</button>\n      <button @click=\"setSearchType('codigo_periodo')\" :class=\"{ active: searchType === 'codigo_periodo' }\">Código de Período</button>\n    </div>\n    <div v-if=\"searchType\" class=\"search-box\">\n      <label v-if=\"searchType === 'codigo_carrera'\" for=\"codigo_carrera\">Código de Carrera</label>\n      <input v-if=\"searchType === 'codigo_carrera'\" type=\"text\" v-model=\"codigo_carrera\" @keyup.enter=\"consultGraduate\">\n\n      <label v-if=\"searchType === 'cedula'\" for=\"cedula\">Cédula</label>\n      <input v-if=\"searchType === 'cedula'\" type=\"text\" v-model=\"cedula\" @keyup.enter=\"consultGraduate\">\n\n      <label v-if=\"searchType === 'nombre'\" for=\"nombre\">Nombre</label>\n      <input v-if=\"searchType === 'nombre'\" type=\"text\" v-model=\"nombre\" @keyup.enter=\"consultGraduate\">\n\n      <label v-if=\"searchType === 'codigo_periodo'\" for=\"codigo_periodo\">Código de Período</label>\n      <input v-if=\"searchType === 'codigo_periodo'\" type=\"text\" v-model=\"codigo_periodo\" @keyup.enter=\"consultGraduate\">\n\n      <button @click=\"consultGraduate\">Consultar</button>\n    </div>\n    <div v-if=\"egresados.length\" class=\"results-box\">\n      <h2>Resultados de la Consulta</h2>\n      <ul>\n        <li v-for=\"egresado in egresados\" :key=\"egresado.id\" @click=\"selectEgresado(egresado)\">\n          {{ egresado.nombre }} - {{ egresado.cedula }} - {{ egresado.cod_carrera }}\n        </li>\n      </ul>\n    </div>\n    <div v-if=\"selectedEgresado\" class=\"details-box\">\n      <h2>Detalles del Egresado</h2>\n      <p><strong>AG:</strong> {{ selectedEgresado.ag }}</p>\n      <p><strong>AA:</strong> {{ selectedEgresado.aa }}</p>\n      <p><strong>PG:</strong> {{ selectedEgresado.pg }}</p>\n      <p><strong>PA:</strong> {{ selectedEgresado.pa }}</p>\n      <p><strong>Nombre:</strong> {{ selectedEgresado.nombre }}</p>\n      <p><strong>Cédula:</strong> {{ selectedEgresado.cedula }}</p>\n      <p><strong>Código de Carrera:</strong> {{ selectedEgresado.cod_carrera }}</p>\n      <p><strong>Código de Período:</strong> {{ selectedEgresado.cod_periodo }}</p>\n      <p><strong>Fecha de Grado:</strong> {{ selectedEgresado.fecha_grado }}</p>\n\n      <button @click=\"deleteEgresado(selectedEgresado.id)\">Borrar</button>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'SelectSearchType',\n  data() {\n    return {\n      searchType: '',\n      codigo_carrera: '',\n      cedula: '',\n      nombre: '',\n      codigo_periodo: '',\n      egresados: [],\n      selectedEgresado: null\n    }\n  },\n  methods: {\n    setSearchType(type) {\n      this.searchType = type;\n      this.codigo_carrera = '';\n      this.cedula = '';\n      this.nombre = '';\n      this.codigo_periodo = '';\n      this.egresados = [];\n      this.selectedEgresado = null;\n    },\n    async consultGraduate() {\n      let queryParams = '';\n      if (this.searchType === 'codigo_carrera') {\n        queryParams = `codigo_carrera=${this.codigo_carrera}`;\n      } else if (this.searchType === 'cedula') {\n        queryParams = `cedula=${this.cedula}`;\n      } else if (this.searchType === 'nombre') {\n        queryParams = `nombre=${this.nombre}`;\n      } else if (this.searchType === 'codigo_periodo') {\n        queryParams = `codigo_periodo=${this.codigo_periodo}`;\n      }\n\n      const response = await fetch(`/api/consultar?${queryParams}`);\n      if (response.ok) {\n        this.egresados = await response.json();\n      } else {\n        alert('Error al consultar egresados');\n      }\n    },\n    selectEgresado(egresado) {\n      this.selectedEgresado = egresado;\n    },\n    async deleteEgresado(id) {\n      const response = await fetch(`/api/eliminar/${id}`, {\n        method: 'POST'\n      });\n      if (response.ok) {\n        alert('Egresado eliminado con éxito');\n        this.selectedEgresado = null;\n        this.consultGraduate();\n      } else {\n        alert('Error al eliminar egresado');\n      }\n    }\n  }\n}\n</script>\n<style scoped>\nbody, html {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  background: url('@/assets/background.jpg') no-repeat center center fixed; /* Imagen de fondo */\n  background-size: cover; /* Asegura que la imagen cubra toda la pantalla */\n}\n\n.select-search-type {\n  text-align: center;\n  padding: 70px 20px; /* Añadir espacio superior para la barra de tareas */\n  color: #fff;\n}\n\nh1 {\n  font-size: 3em;\n  margin-bottom: 20px;\n  color: black;\n}\n\n.buttons {\n  margin-bottom: 20px;\n}\n\nbutton {\n  padding: 10px 20px;\n  font-size: 16px;\n  cursor: pointer;\n  margin: 5px;\n  color: #fff;\n  background-color: #000066;\n  border: none;\n  border-radius: 5px;\n  transition: background-color 0.3s, transform 0.3s;\n}\n\nbutton:hover {\n  background-color: #333399;\n  transform: translateY(-4px);\n}\n\nbutton.active {\n  background-color: #333399;\n}\n\n.search-box,\n.results-box,\n.details-box {\n  background: rgba(0, 0, 102, 0.8); /* Fondo semitransparente azul oscuro */\n  padding: 20px;\n  border-radius: 10px;\n  text-align: left;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);\n  margin-bottom: 20px;\n  width: 80%; /* Ajustar ancho */\n  max-width: 600px; /* Ancho máximo */\n  margin-left: auto; /* Centrando */\n  margin-right: auto; /* Centrando */\n}\n\nlabel {\n  display: block;\n  width: 100%;\n  margin-bottom: 10px;\n  color: #fff;\n}\n\ninput {\n  display: block;\n  width: 100%;\n  margin-bottom: 10px;\n  color: black;\n}\n\ninput {\n  padding: 10px;\n  font-size: 1em;\n  border: none;\n  border-radius: 5px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  cursor: pointer;\n  padding: 10px;\n  background: rgba(255, 255, 255, 0.1);\n  margin-bottom: 5px;\n  border-radius: 5px;\n  transition: background-color 0.3s;\n}\n\nli:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n\np {\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n</style>\n"],"mappings":"AAiDA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,cAAA;MACAC,MAAA;MACAC,MAAA;MACAC,cAAA;MACAC,SAAA;MACAC,gBAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAAC,IAAA;MACA,KAAAT,UAAA,GAAAS,IAAA;MACA,KAAAR,cAAA;MACA,KAAAC,MAAA;MACA,KAAAC,MAAA;MACA,KAAAC,cAAA;MACA,KAAAC,SAAA;MACA,KAAAC,gBAAA;IACA;IACA,MAAAI,gBAAA;MACA,IAAAC,WAAA;MACA,SAAAX,UAAA;QACAW,WAAA,0BAAAV,cAAA;MACA,gBAAAD,UAAA;QACAW,WAAA,kBAAAT,MAAA;MACA,gBAAAF,UAAA;QACAW,WAAA,kBAAAR,MAAA;MACA,gBAAAH,UAAA;QACAW,WAAA,0BAAAP,cAAA;MACA;MAEA,MAAAQ,QAAA,SAAAC,KAAA,mBAAAF,WAAA;MACA,IAAAC,QAAA,CAAAE,EAAA;QACA,KAAAT,SAAA,SAAAO,QAAA,CAAAG,IAAA;MACA;QACAC,KAAA;MACA;IACA;IACAC,eAAAC,QAAA;MACA,KAAAZ,gBAAA,GAAAY,QAAA;IACA;IACA,MAAAC,eAAAC,EAAA;MACA,MAAAR,QAAA,SAAAC,KAAA,kBAAAO,EAAA;QACAC,MAAA;MACA;MACA,IAAAT,QAAA,CAAAE,EAAA;QACAE,KAAA;QACA,KAAAV,gBAAA;QACA,KAAAI,eAAA;MACA;QACAM,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}